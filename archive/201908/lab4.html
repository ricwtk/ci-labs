<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lab 4: EC (ACO) | CSC3034</title>
    <meta name="description" content="">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@3.x/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css">
    
    <link rel="preload" href="/ci-labs/assets/css/0.styles.4805b9ce.css" as="style"><link rel="preload" href="/ci-labs/assets/js/app.5a6eedcf.js" as="script"><link rel="preload" href="/ci-labs/assets/js/2.f123190f.js" as="script"><link rel="preload" href="/ci-labs/assets/js/9.682d5eaf.js" as="script"><link rel="prefetch" href="/ci-labs/assets/js/10.50dc5fb0.js"><link rel="prefetch" href="/ci-labs/assets/js/11.863e2ba8.js"><link rel="prefetch" href="/ci-labs/assets/js/12.81161026.js"><link rel="prefetch" href="/ci-labs/assets/js/13.102b3e19.js"><link rel="prefetch" href="/ci-labs/assets/js/14.efc50b54.js"><link rel="prefetch" href="/ci-labs/assets/js/15.2824edf8.js"><link rel="prefetch" href="/ci-labs/assets/js/16.68ceabb0.js"><link rel="prefetch" href="/ci-labs/assets/js/17.98066496.js"><link rel="prefetch" href="/ci-labs/assets/js/18.fc2e5142.js"><link rel="prefetch" href="/ci-labs/assets/js/19.4ebcbc07.js"><link rel="prefetch" href="/ci-labs/assets/js/20.bff1f24a.js"><link rel="prefetch" href="/ci-labs/assets/js/3.74c77c24.js"><link rel="prefetch" href="/ci-labs/assets/js/4.eb099dc3.js"><link rel="prefetch" href="/ci-labs/assets/js/5.a1960905.js"><link rel="prefetch" href="/ci-labs/assets/js/6.6b928bc4.js"><link rel="prefetch" href="/ci-labs/assets/js/7.8290c013.js"><link rel="prefetch" href="/ci-labs/assets/js/8.9d9f317a.js">
    <link rel="stylesheet" href="/ci-labs/assets/css/0.styles.4805b9ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ci-labs/" class="home-link router-link-active"><!----> <span class="site-name">CSC3034</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://ricwtk.github.io/ai-labs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/ci-labs/" class="nav-link">CI</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://ricwtk.github.io/ai-labs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/ci-labs/" class="nav-link">CI</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ci-labs/" class="sidebar-link">Home</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2020 August</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ci-labs/lab1.html" class="sidebar-link">Lab 1: Pre-lab</a></li><li><a href="/ci-labs/lab2.html" class="sidebar-link">Lab 2: EC (GA)</a></li><li><a href="/ci-labs/lab3.html" class="sidebar-link">Lab 3: EC (PSO)</a></li><li><a href="/ci-labs/lab4.html" class="sidebar-link">Lab 4: EC (ACO)</a></li><li><a href="/ci-labs/lab5.html" class="sidebar-link">Lab 5: ANN (Supervised learning)</a></li><li><a href="/ci-labs/lab6.html" class="sidebar-link">Lab 6: ANN (Hyperplane)</a></li><li><a href="/ci-labs/lab7.html" class="sidebar-link">Lab 7: Fuzzy Systems</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Archive</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lab-4-ec-aco"><a href="#lab-4-ec-aco" aria-hidden="true" class="header-anchor">#</a> Lab 4: EC (ACO)</h1> <h2 id="ant-colony-optimisation"><a href="#ant-colony-optimisation" aria-hidden="true" class="header-anchor">#</a> Ant colony optimisation</h2> <h3 id="objective"><a href="#objective" aria-hidden="true" class="header-anchor">#</a> Objective</h3> <ul><li>to develop a Python function to perform ant colony optimisation on a problem</li></ul> <h3 id="problem-to-solve"><a href="#problem-to-solve" aria-hidden="true" class="header-anchor">#</a> Problem to solve</h3> <p>We will use ant colony optimisation to solve the Nick's route-finding problem in Romania. The problem is a route finding problem to identify the best (cheapest) route to travel from Arad to Bucharest.</p> <p>The road map of Romania is provided as follows:</p> <svg viewBox="0 0 950 500"><path d="M 75 125 L 100 75" stroke="black"></path> <text x="87.5" y="100" text-anchor="end">75</text> <path d="M 100 75 L 125 25" stroke="black"></path> <text x="112.5" y="50" text-anchor="end">71</text> <path d="M 125 25 L 265 175" stroke="black"></path> <text x="195" y="90" text-anchor="start">151</text> <path d="M 265 175 L 75 125" stroke="black"></path> <text x="170" y="165" text-anchor="end">140</text> <path d="M 75 125 L 85 280" stroke="black"></path> <text x="75" y="202.5" text-anchor="end">118</text> <path d="M 85 280 L 185 335" stroke="black"></path> <text x="140" y="302.5" text-anchor="start">111</text> <path d="M 185 335 L 190 390" stroke="black"></path> <text x="197.5" y="362.5" text-anchor="start">70</text> <path d="M 190 390 L 185 450" stroke="black"></path> <text x="197.5" y="420" text-anchor="start">75</text> <path d="M 185 450 L 350 465" stroke="black"></path> <text x="267.5" y="447.5" text-anchor="end">120</text> <path d="M 350 465 L 320 230" stroke="black"></path> <text x="325" y="347.5" text-anchor="end">146</text> <path d="M 320 230 L 265 175" stroke="black"></path> <text x="297.5" y="202.5" text-anchor="start">80</text> <path d="M 265 175 L 425 175" stroke="black"></path> <text x="345" y="170" text-anchor="middle">99</text> <path d="M 320 230 L 475 310" stroke="black"></path> <text x="397.5" y="265" text-anchor="start">97</text> <path d="M 475 310 L 350 465" stroke="black"></path> <text x="407.5" y="382.5" text-anchor="end">138</text> <path d="M 475 310 L 640 390" stroke="black"></path> <text x="547.5" y="360" text-anchor="end">101</text> <path d="M 425 175 L 640 390" stroke="black"></path> <text x="537.5" y="277.5" text-anchor="start">211</text> <path d="M 640 390 L 575 485" stroke="black"></path> <text x="602.5" y="437.5" text-anchor="end">90</text> <path d="M 640 390 L 745 340 " stroke="black"></path> <text x="687.5" y="365" text-anchor="end">85</text> <path d="M 745 340 L 875 340" stroke="black"></path> <text x="810" y="355" text-anchor="middle">98</text> <path d="M 875 340 L 935 440" stroke="black"></path> <text x="895" y="395" text-anchor="end">86</text> <path d="M 745 340 L 850 225" stroke="black"></path> <text x="792.5" y="277.5" text-anchor="end">142</text> <path d="M 850 225 L 760 120" stroke="black"></path> <text x="810" y="172.5" text-anchor="start">92</text> <path d="M 760 120 L 625 60" stroke="black"></path> <text x="697.5" y="85" text-anchor="start">87</text> <circle cx="75" cy="125" r="10" fill="green"></circle> <text x="60" y="130" text-anchor="end">Arad</text> <circle cx="100" cy="75" r="10" fill="gray"></circle> <text x="85" y="75" text-anchor="end">Zerind</text> <circle cx="125" cy="25" r="10" fill="gray"></circle> <text x="110" y="20" text-anchor="end">Oradea</text> <circle cx="265" cy="175" r="10" fill="gray"></circle> <text x="265" y="160" text-anchor="start">Sibiu</text> <circle cx="425" cy="175" r="10" fill="gray"></circle> <text x="440" y="180" text-anchor="start">Fagaras</text> <circle cx="320" cy="230" r="10" fill="gray"></circle> <text x="305" y="235" text-anchor="end">Rimnicu Vilcea</text> <circle cx="475" cy="310" r="10" fill="gray"></circle> <text x="460" y="320" text-anchor="end">Pitesti</text> <circle cx="350" cy="465" r="10" fill="gray"></circle> <text x="340" y="480" text-anchor="end">Craiova</text> <circle cx="185" cy="450" r="10" fill="gray"></circle> <text x="170" y="455" text-anchor="end">Drobeta</text> <circle cx="190" cy="390" r="10" fill="gray"></circle> <text x="175" y="395" text-anchor="end">Mehadia</text> <circle cx="185" cy="335" r="10" fill="gray"></circle> <text x="170" y="345" text-anchor="end">Lugoj</text> <circle cx="85" cy="280" r="10" fill="gray"></circle> <text x="70" y="285" text-anchor="end">Timisoara</text> <circle cx="640" cy="390" r="10" fill="red"></circle> <text x="625" y="400" text-anchor="end">Bucharest</text> <circle cx="575" cy="485" r="10" fill="gray"></circle> <text x="560" y="490" text-anchor="end">Giurgiu</text> <circle cx="745" cy="340" r="10" fill="gray"></circle> <text x="730" y="335" text-anchor="end">Urziceni</text> <circle cx="875" cy="340" r="10" fill="gray"></circle> <text x="875" y="325" text-anchor="end">Hirsova</text> <circle cx="935" cy="440" r="10" fill="gray"></circle> <text x="920" y="445" text-anchor="end">Eforie</text> <circle cx="850" cy="225" r="10" fill="gray"></circle> <text x="835" y="230" text-anchor="end">Vaslui</text> <circle cx="760" cy="120" r="10" fill="gray"></circle> <text x="745" y="135" text-anchor="end">Iasi</text> <circle cx="625" cy="60" r="10" fill="gray"></circle> <text x="610" y="65" text-anchor="end">Neamt</text></svg> <h3 id="problem-formulation"><a href="#problem-formulation" aria-hidden="true" class="header-anchor">#</a> Problem formulation</h3> <ol><li><p>The coordinates of each town are provided as follows. This will be used later for the purpose of visualisation.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>location_list <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token comment"># [x,y,name]</span>
  <span class="token punctuation">[</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token string">'Arad'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token string">'Zerind'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">'Oradea'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">265</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token string">'Sibiu'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">425</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token string">'Fagaras'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">,</span> <span class="token string">'Rimnicu Vilcea'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">475</span><span class="token punctuation">,</span> <span class="token number">310</span><span class="token punctuation">,</span> <span class="token string">'Pitesti'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">465</span><span class="token punctuation">,</span> <span class="token string">'Craiova'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">185</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">,</span> <span class="token string">'Drobeta'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">390</span><span class="token punctuation">,</span> <span class="token string">'Mehadia'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">185</span><span class="token punctuation">,</span> <span class="token number">335</span><span class="token punctuation">,</span> <span class="token string">'Lugoj'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">,</span> <span class="token string">'Timisoara'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">390</span><span class="token punctuation">,</span> <span class="token string">'Bucharest'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">575</span><span class="token punctuation">,</span> <span class="token number">485</span><span class="token punctuation">,</span> <span class="token string">'Giurgiu'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">745</span><span class="token punctuation">,</span> <span class="token number">340</span><span class="token punctuation">,</span> <span class="token string">'Urziceni'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">875</span><span class="token punctuation">,</span> <span class="token number">340</span><span class="token punctuation">,</span> <span class="token string">'Hirsova'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">935</span><span class="token punctuation">,</span> <span class="token number">440</span><span class="token punctuation">,</span> <span class="token string">'Eforie'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">850</span><span class="token punctuation">,</span> <span class="token number">225</span><span class="token punctuation">,</span> <span class="token string">'Vaslui'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">760</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token string">'Iasi'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">625</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">'Neamt'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>Then define the travel cost between connected cities.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>step_cost <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'Arad'</span><span class="token punctuation">,</span> <span class="token string">'Zerind'</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Zerind'</span><span class="token punctuation">,</span> <span class="token string">'Oradea'</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Oradea'</span><span class="token punctuation">,</span> <span class="token string">'Sibiu'</span><span class="token punctuation">,</span> <span class="token number">151</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Sibiu'</span><span class="token punctuation">,</span> <span class="token string">'Arad'</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Sibiu'</span><span class="token punctuation">,</span> <span class="token string">'Fagaras'</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Sibiu'</span><span class="token punctuation">,</span> <span class="token string">'Rimnicu Vilcea'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Fagaras'</span><span class="token punctuation">,</span> <span class="token string">'Bucharest'</span><span class="token punctuation">,</span> <span class="token number">211</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Bucharest'</span><span class="token punctuation">,</span> <span class="token string">'Giurgiu'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Bucharest'</span><span class="token punctuation">,</span> <span class="token string">'Pitesti'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Pitesti'</span><span class="token punctuation">,</span> <span class="token string">'Rimnicu Vilcea'</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Rimnicu Vilcea'</span><span class="token punctuation">,</span> <span class="token string">'Craiova'</span><span class="token punctuation">,</span> <span class="token number">146</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Craiova'</span><span class="token punctuation">,</span> <span class="token string">'Pitesti'</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Craiova'</span><span class="token punctuation">,</span> <span class="token string">'Drobeta'</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Drobeta'</span><span class="token punctuation">,</span> <span class="token string">'Mehadia'</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Mehadia'</span><span class="token punctuation">,</span> <span class="token string">'Lugoj'</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Lugoj'</span><span class="token punctuation">,</span> <span class="token string">'Timisoara'</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Arad'</span><span class="token punctuation">,</span> <span class="token string">'Timisoara'</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Bucharest'</span><span class="token punctuation">,</span> <span class="token string">'Urziceni'</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Urziceni'</span><span class="token punctuation">,</span> <span class="token string">'Vaslui'</span><span class="token punctuation">,</span> <span class="token number">142</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Vaslui'</span><span class="token punctuation">,</span> <span class="token string">'Iasi'</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Iasi'</span><span class="token punctuation">,</span> <span class="token string">'Neamt'</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Urziceni'</span><span class="token punctuation">,</span> <span class="token string">'Hirsova'</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'Hirsova'</span><span class="token punctuation">,</span> <span class="token string">'Eforie'</span><span class="token punctuation">,</span> <span class="token number">86</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li> <li><p>We will define two class, <code>City</code> and <code>Road</code>.</p></li> <li><p>An object of class <code>City</code> has the attributes of <code>name</code> (the name of the city), <code>roads</code> (an array of references to the roads connected to the current city), and <code>coordinates</code> (coordinates of the cities).</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">City</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    self<span class="token punctuation">.</span>roads <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    self<span class="token punctuation">.</span>coordinates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    
  <span class="token keyword">def</span> <span class="token function">set_coordinates</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> coordinates<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>coordinates <span class="token operator">=</span> coordinates

  <span class="token keyword">def</span> <span class="token function">add_road</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> road<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> road <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>roads<span class="token punctuation">:</span>
      self<span class="token punctuation">.</span>roads<span class="token punctuation">.</span>append<span class="token punctuation">(</span>road<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>An object of class <code>Road</code> has the attributes of <code>connected_cities</code> (an array of references to the cities connected through this road), <code>cost</code> (the step cost of this road), and <code>pheromone</code> (the pheromone on this road).</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Road</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> connected_cities<span class="token punctuation">,</span> cost<span class="token punctuation">,</span> pheromone<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>connected_cities <span class="token operator">=</span> connected_cities
    self<span class="token punctuation">.</span>cost <span class="token operator">=</span> cost
    self<span class="token punctuation">.</span>pheromone <span class="token operator">=</span> pheromone
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>We will construct the list of <code>City</code> objects and <code>Road</code> objects from the information provided by the question, i.e. information in <code>location_list</code> and <code>step_cost</code>. The following code block should be in the <code>main</code> code block.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cities <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> coord1<span class="token punctuation">,</span> coord2<span class="token punctuation">,</span> name <span class="token keyword">in</span> location_list<span class="token punctuation">:</span>
  cities<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> City<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  cities<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>set_coordinates<span class="token punctuation">(</span><span class="token punctuation">[</span>coord1<span class="token punctuation">,</span> coord2<span class="token punctuation">]</span><span class="token punctuation">)</span>
roads <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> city1<span class="token punctuation">,</span> city2<span class="token punctuation">,</span> cost <span class="token keyword">in</span> step_cost<span class="token punctuation">:</span>
  road <span class="token operator">=</span> Road<span class="token punctuation">(</span><span class="token punctuation">[</span>cities<span class="token punctuation">[</span>city1<span class="token punctuation">]</span><span class="token punctuation">,</span> cities<span class="token punctuation">[</span>city2<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cost<span class="token punctuation">)</span>
  cities<span class="token punctuation">[</span>city1<span class="token punctuation">]</span><span class="token punctuation">.</span>add_road<span class="token punctuation">(</span>road<span class="token punctuation">)</span>
  cities<span class="token punctuation">[</span>city2<span class="token punctuation">]</span><span class="token punctuation">.</span>add_road<span class="token punctuation">(</span>road<span class="token punctuation">)</span>
  roads<span class="token punctuation">.</span>append<span class="token punctuation">(</span>road<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>In the <code>main</code> code block, define the <code>origin</code> and <code>destination</code> cities.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>origin <span class="token operator">=</span> cities<span class="token punctuation">[</span><span class="token string">'Arad'</span><span class="token punctuation">]</span>
destination <span class="token operator">=</span> cities<span class="token punctuation">[</span><span class="token string">'Bucharest'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h3 id="initiating-aco-algorithm"><a href="#initiating-aco-algorithm" aria-hidden="true" class="header-anchor">#</a> Initiating ACO algorithm</h3> <ol><li><p>We then define the parameters for ACO, i.e. number of ants, <code>n_ant</code>, pheromone influence constant, <code>alpha</code>, and evaporation rate, <code>rho</code>.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>n_ant <span class="token operator">=</span> <span class="token number">10</span>
alpha <span class="token operator">=</span> <span class="token number">1</span>
rho <span class="token operator">=</span> <span class="token number">0.1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>Add the method <code>set_pheromone</code> to the class <code>Road</code>.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Road</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">set_pheromone</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pheromone<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>pheromone <span class="token operator">=</span> pheromone
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>Set the initial pheromone of each road to 0.01.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># in main block</span>
initial_pheromone <span class="token operator">=</span> <span class="token number">0.01</span>
<span class="token keyword">for</span> road <span class="token keyword">in</span> roads<span class="token punctuation">:</span>
  road<span class="token punctuation">.</span>set_pheromone<span class="token punctuation">(</span>initial_pheromone<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Define the class <code>Ant</code>.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Ant</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>cities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># cities the ant passes through, in sequence</span>
    self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># roads the ant uses, in sequence</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Initiate <code>n_ants</code> ants.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>ants <span class="token operator">=</span> <span class="token punctuation">[</span>Ant<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n_ant<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h3 id="identify-path-of-each-ant"><a href="#identify-path-of-each-ant" aria-hidden="true" class="header-anchor">#</a> Identify path of each ant</h3> <ol><li><p>In the <code>Ant</code> class, define a method to identify the path by taking the inputs of the available roads, the origin, the destination, and the pheromone influence constant α.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Ant</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">get_path</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> destination<span class="token punctuation">,</span> alpha<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 1. append origin to the self.cities</span>
    <span class="token comment"># 2. if the last city is not destination, search for the next city to go</span>
    <span class="token comment"># 3. after getting to the destination, remove the loop within the path, i.e. if there are repeated cities in self.cities, remove the cities and the roads in between the repetition</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>Define a method to calculate the path length.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Ant</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">get_path</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">get_path_length</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># calculate path length based on self.path</span>
    <span class="token keyword">return</span> path_length
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>As the path of each ant will be reset every iteration, define a method that reset the <code>path</code> and <code>cities</code>.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Ant</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  
  <span class="token keyword">def</span> <span class="token function">get_path</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">get_path_length</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">reset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    self<span class="token punctuation">.</span>cities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ol> <h3 id="evaporation"><a href="#evaporation" aria-hidden="true" class="header-anchor">#</a> Evaporation</h3> <ol><li><p>In the <code>Road</code> class, define a method to evaporate the pheromone by taking the input of evaporation rate ρ.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Road</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  
  <span class="token keyword">def</span> <span class="token function">set_pheromone</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">evaporate_pheromone</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> rho<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># update the pheromone of the road</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol> <h3 id="deposition"><a href="#deposition" aria-hidden="true" class="header-anchor">#</a> Deposition</h3> <ol><li><p>In the <code>Road</code> class, define a method to calculate the updated pheromone after pheromone deposition by taking the input of all the ants. We will use the following pheromone deposition formula for ant k on road i:</p> <div style="text-align:center;">Δτ<sub>i,k</sub> = 1/L<sub>k</sub></div> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Road</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">set_pheromone</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">evaporate_pheromone</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

  <span class="token keyword">def</span> <span class="token function">deposit_pheromone</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> ants<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 1. search for ants that uses the raod</span>
    <span class="token comment"># 2. deposit pheromone using the inversely proportionate relationship between path length and deposited pheromone</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ol> <h3 id="termination-conditions"><a href="#termination-conditions" aria-hidden="true" class="header-anchor">#</a> Termination conditions</h3> <ol><li><p>We will use the following conditions as the termination conditions:</p> <ul><li>maximum iteration of 200</li> <li>if ≥90% of the ants use the same path</li></ul></li> <li><p>Define a function to calculate the percentage of the most dominant path.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">get_percentage_of_dominant_path</span><span class="token punctuation">(</span>ants<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">return</span> percentage
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h3 id="loop-until-termination"><a href="#loop-until-termination" aria-hidden="true" class="header-anchor">#</a> Loop until termination</h3> <ol><li><p>Create a loop to iterate until termination.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># termination threshold</span>
max_iteration <span class="token operator">=</span> <span class="token number">200</span>
percentage_of_dominant_path <span class="token operator">=</span> <span class="token number">0.9</span>

iteration <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span> <span class="token comment"># termination conditions</span>
  <span class="token comment"># loop through all the ants to identify the path of each ant</span>
  <span class="token keyword">for</span> ant <span class="token keyword">in</span> ants<span class="token punctuation">:</span>
    <span class="token comment"># reset the path of the ant</span>
    ant<span class="token punctuation">.</span>reset<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># identify the path of the ant</span>
    ant<span class="token punctuation">.</span>get_path<span class="token punctuation">(</span>origin<span class="token punctuation">,</span> destination<span class="token punctuation">,</span> alpha<span class="token punctuation">)</span>
  <span class="token comment"># loop through all roads</span>
  <span class="token keyword">for</span> road <span class="token keyword">in</span> roads<span class="token punctuation">:</span>
    <span class="token comment"># evaporate the pheromone on the road</span>
    road<span class="token punctuation">.</span>evaporate_pheromone<span class="token punctuation">(</span>rho<span class="token punctuation">)</span>
    <span class="token comment"># deposit the pheromone</span>
    road<span class="token punctuation">.</span>deposit_pheromone<span class="token punctuation">(</span>ants<span class="token punctuation">)</span>
  <span class="token comment"># increase iteration count</span>
  iteration <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token comment"># after exiting the loop, return the most occurred path as the solution</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li></ol> <h3 id="visualisation"><a href="#visualisation" aria-hidden="true" class="header-anchor">#</a> Visualisation</h3> <ol><li><p>Define the following functions:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">def</span> <span class="token function">create_graph</span><span class="token punctuation">(</span>cities<span class="token punctuation">)</span><span class="token punctuation">:</span>
  fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
  ax <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
  cities_x <span class="token operator">=</span> <span class="token punctuation">[</span>city<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> key<span class="token punctuation">,</span> city <span class="token keyword">in</span> cities<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  cities_y <span class="token operator">=</span> <span class="token punctuation">[</span>city<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> key<span class="token punctuation">,</span> city <span class="token keyword">in</span> cities<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  ax<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>cities_x<span class="token punctuation">,</span> cities_y<span class="token punctuation">)</span>
  ax<span class="token punctuation">.</span>set_aspect<span class="token punctuation">(</span>aspect<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> ax
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">draw_pheromone</span><span class="token punctuation">(</span>ax<span class="token punctuation">,</span> roads<span class="token punctuation">)</span><span class="token punctuation">:</span>
  lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> road <span class="token keyword">in</span> roads<span class="token punctuation">:</span>
    from_coord <span class="token operator">=</span> road<span class="token punctuation">.</span>connected_cities<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>coordinates
    to_coord <span class="token operator">=</span> road<span class="token punctuation">.</span>connected_cities<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>coordinates
    coord_x <span class="token operator">=</span> <span class="token punctuation">[</span>from_coord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> to_coord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    coord_y <span class="token operator">=</span> <span class="token punctuation">[</span>from_coord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> to_coord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    lines<span class="token punctuation">.</span>append<span class="token punctuation">(</span>ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>coord_x<span class="token punctuation">,</span> coord_y<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'k'</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span>road<span class="token punctuation">.</span>pheromone<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> lines
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>Add the following lines to the <code>main</code> code block just before the <code>while</code> loop (loop until termination).</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>ax <span class="token operator">=</span> create_graph<span class="token punctuation">(</span>cities<span class="token punctuation">)</span>
lines <span class="token operator">=</span> draw_pheromone<span class="token punctuation">(</span>ax<span class="token punctuation">,</span> roads<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>Add the following lines to after <code>iteration += 1</code>.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># visualise</span>
<span class="token keyword">for</span> l <span class="token keyword">in</span> lines<span class="token punctuation">:</span>
  <span class="token keyword">del</span> l
lines <span class="token operator">=</span> draw_pheromone<span class="token punctuation">(</span>ax<span class="token punctuation">,</span> roads<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>pause<span class="token punctuation">(</span><span class="token number">0.05</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <h3 id="evaluate-effect-of-parameters"><a href="#evaluate-effect-of-parameters" aria-hidden="true" class="header-anchor">#</a> Evaluate effect of parameters</h3> <ol><li><p>Modify the pheromone depositing formula to</p> <div style="text-align:center;">Δτ<sub>i,k</sub> = 1/L<sub>k</sub><sup>1.5</sup></div> <p>What is the effect of this?</p></li> <li><p>Modify the pheromone depositing formula to</p> <div style="text-align:center;">Δτ<sub>i,k</sub> = 5/L<sub>k</sub></div> <p>What is the effect of this?</p></li> <li><p>Investigate the effect of number of ants <code>n_ant</code>.</p></li> <li><p>Investigate the effect of pheromone influence constant α <code>alpha</code>.</p></li> <li><p>Investigate the effect of evaporation rate ρ <code>rho</code>.</p></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/23/2020, 1:04:14 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/ci-labs/archive/201908/lab3.html" class="prev">
          Lab 3: EC (PSO)
        </a></span> <span class="next"><a href="/ci-labs/archive/201908/lab5.html">
          Lab 5: ANN (Supervised learning)
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ci-labs/assets/js/app.5a6eedcf.js" defer></script><script src="/ci-labs/assets/js/2.f123190f.js" defer></script><script src="/ci-labs/assets/js/9.682d5eaf.js" defer></script>
  </body>
</html>
